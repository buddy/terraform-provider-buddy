---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "buddy_integration Resource - terraform-provider-buddy"
subcategory: ""
description: |-
  Create and manage an integration
  Token scopes required: INTEGRATION_ADD, INTEGRATION_MANAGE, INTEGRATION_INFO
---

# buddy_integration (Resource)

Create and manage an integration

Token scopes required: `INTEGRATION_ADD`, `INTEGRATION_MANAGE`, `INTEGRATION_INFO`

## Example Usage

```terraform
resource "buddy_integration" "aws" {
  domain     = "mydomain"
  name       = "ec2 access"
  type       = "AMAZON"
  scope      = "ADMIN"
  access_key = "key"
  secret_key = "secret"

  role_assumption {
    arn = "arn1"
  }

  role_assumption {
    arn         = "arn2"
    external_id = "3"
    duration    = 100
  }
}

resource "buddy_integration" "aws_trusted" {
  domain    = "mydomain"
  name      = "ec2 access"
  type      = "AMAZON"
  scope     = "ADMIN"
  auth_type = "TRUSTED"

  role_assumption {
    arn         = "arn1"
    external_id = "123"
  }
}

resource "buddy_integration" "aws_oidc" {
  domain    = "mydomain"
  name      = "ec2 access"
  type      = "AMAZON"
  scope     = "ADMIN"
  auth_type = "OIDC"
  audience  = "https://myservice.com"

  role_assumption {
    arn = "arn1"
  }
}

resource "buddy_integration" "do_private" {
  domain = "mydomain"
  name   = "digital ocean"
  type   = "DIGITAL_OCEAN"
  scope  = "PRIVATE"
  token  = "abc"
}

resource "buddy_integration" "shopify_workspace" {
  domain = "mydomain"
  name   = "shopify"
  type   = "SHOPIFY"
  scope  = "WORKSPACE"
  shop   = "myshop"
  token  = "abc"
}

resource "buddy_integration" "pushover_group" {
  domain     = "mydomain"
  name       = "pushover"
  type       = "PUSHOVER"
  scope      = "GROUP"
  group_id   = 123
  token      = "abc"
  access_key = "key"
}

resource "buddy_integration" "rackspace_project" {
  domain       = "mydomain"
  name         = "rackspace"
  type         = "RACKSPACE"
  scope        = "PROJECT"
  project_name = "myproject"
  username     = "abc"
  token        = "abc"
}

resource "buddy_integration" "cloudflare_admin_project" {
  domain       = "mydomain"
  name         = "cloudflare"
  type         = "CLOUDFLARE"
  scope        = "ADMIN_IN_PROJECT"
  project_name = "myproject"
  token        = "abc"
  api_key      = "key"
  email        = "email@email.com"
}

resource "buddy_integration" "new_relic_group_project" {
  domain       = "mydomain"
  name         = "new_relic"
  type         = "NEW_RELIC"
  scope        = "GROUP_IN_PROJECT"
  group_id     = 123
  project_name = "myproject"
  token        = "abc"
}

resource "buddy_integration" "sentry" {
  domain = "mydomain"
  name   = "sentry"
  type   = "SENTRY"
  scope  = "ADMIN"
  token  = "abc"
}

resource "buddy_integration" "rollbar" {
  domain = "mydomain"
  name   = "rollbar"
  type   = "ROLLBAR"
  scope  = "ADMIN"
  token  = "abc"
}

resource "buddy_integration" "datadog" {
  domain = "mydomain"
  name   = "datadog"
  type   = "DATADOG"
  scope  = "ADMIN"
  token  = "abc"
}

resource "buddy_integration" "do_spaces" {
  domain     = "mydomain"
  name       = "do_spaces"
  type       = "DO_SPACES"
  scope      = "ADMIN"
  access_key = "key"
  secret_key = "secret"
}

resource "buddy_integration" "honeybadger" {
  domain = "mydomain"
  name   = "honeybadger"
  type   = "HONEYBADGER"
  scope  = "ADMIN"
  token  = "abc"
}

resource "buddy_integration" "vultr" {
  domain = "mydomain"
  name   = "vultr"
  type   = "VULTR"
  scope  = "ADMIN"
  token  = "abc"
}

resource "buddy_integration" "sentry_enterprise" {
  domain = "mydomain"
  name   = "sentry_enterprise"
  type   = "SENTRY_ENTERPRISE"
  scope  = "ADMIN"
  token  = "abc"
}

resource "buddy_integration" "loggly" {
  domain = "mydomain"
  name   = "loggly"
  type   = "LOGGLY"
  scope  = "ADMIN"
  token  = "abc"
}

resource "buddy_integration" "firebase" {
  domain = "mydomain"
  name   = "firebase"
  type   = "FIREBASE"
  scope  = "ADMIN"
  token  = "abc"
}

resource "buddy_integration" "upcloud" {
  domain   = "mydomain"
  name     = "upcloud"
  type     = "UPCLOUD"
  scope    = "ADMIN"
  username = "abc"
  password = "pass"
}

resource "buddy_integration" "ghost_inspector" {
  domain = "mydomain"
  name   = "ghost_inspector"
  type   = "GHOST_INSPECTOR"
  scope  = "ADMIN"
  token  = "abc"
}

resource "buddy_integration" "azure_cloud" {
  domain    = "mydomain"
  name      = "azure_cloud"
  type      = "AZURE_CLOUD"
  scope     = "ADMIN"
  app_id    = "id"
  tenant_id = "tenant"
  password  = "pass"
}

resource "buddy_integration" "azure_cloud_oidc" {
  domain    = "mydomain"
  name      = "azure_cloud"
  type      = "AZURE_CLOUD"
  scope     = "ADMIN"
  app_id    = "id"
  tenant_id = "tenant"
  audience  = "https://myservice.com"
  auth_type = "OIDC"
}

resource "buddy_integration" "docker_hub" {
  domain   = "mydomain"
  name     = "docker_hub"
  type     = "DOCKER_HUB"
  scope    = "ADMIN"
  username = "abc"
  password = "pass"
}

resource "buddy_integration" "github" {
  domain = "mydomain"
  name   = "github"
  type   = "GIT_HUB"
  scope  = "ADMIN"
  token  = "github token"
}

resource "buddy_integration" "gitlab" {
  domain = "mydomain"
  name   = "gitlab"
  type   = "GIT_LAB"
  scope  = "ADMIN"
  token  = "gitlab token"
}

resource "buddy_integration" "google_service_account" {
  domain  = "mydomain"
  name    = "google_service_account"
  type    = "GOOGLE_SERVICE_ACCOUNT"
  scope   = "ADMIN"
  api_key = "key"
}

resource "buddy_integration" "google_service_account_oidc" {
  domain         = "mydomain"
  name           = "google_service_account"
  type           = "GOOGLE_SERVICE_ACCOUNT"
  scope          = "ADMIN"
  auth_type      = "OIDC"
  audience       = "https://myservice.com"
  google_config  = "client library json config"
  google_project = "google-project-name"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `domain` (String) The workspace's URL handle
- `name` (String) The integration's name
- `scope` (String) The integration's scope. Allowed:

`PRIVATE` - only creator of the integration can use it

`WORKSPACE` - all workspace members can use the integration

`ADMIN` - only workspace administrators can use the integration

`GROUP` - only group members can use the integration

`PROJECT` - only project members can use the integration

`PRIVATE_IN_PROJECT` - only creator of the integration in specified project can use it

`ADMIN_IN_PROJECT` - only workspace administrators in specified project can use the integration

`GROUP_IN_PROJECT` - only group members in specified project can use the integration
- `type` (String) The integration's type. Allowed: `DIGITAL_OCEAN`, `AMAZON`, `SHOPIFY`, `PUSHOVER`, `RACKSPACE`, `CLOUDFLARE`, `NEW_RELIC`, `SENTRY`, `ROLLBAR`, `DATADOG`, `DO_SPACES`, `HONEYBADGER`, `VULTR`, `SENTRY_ENTERPRISE`, `LOGGLY`, `FIREBASE`, `UPCLOUD`, `GHOST_INSPECTOR`, `AZURE_CLOUD`, `DOCKER_HUB`, `GOOGLE_SERVICE_ACCOUNT`, `GIT_HUB`, `GIT_LAB`, `STACK_HAWK`

### Optional

- `access_key` (String, Sensitive) The integration's access key. Provide for: `DO_SPACES`, `AMAZON`, `PUSHOVER`
- `api_key` (String, Sensitive) The integration's API key. Provide for: `CLOUDFLARE`, `GOOGLE_SERVICE_ACCOUNT`, `STACK_HAWK`
- `app_id` (String) The integration's application's ID. Provide for: `AZURE_CLOUD`
- `audience` (String) The integration's audience. Provide for OIDC with: `AMAZON`, `AZURE_CLOUD`, `GOOGLE_SERVICE_ACCOUNT`
- `auth_type` (String) The integration's auth type. Provide for: `AMAZON`, `AZURE_CLOUD`, `GOOGLE_SERVICE_ACCOUNT`. Allowed: `DEFAULT, TRUSTED, OIDC`
- `email` (String, Sensitive) The integration's email. Provide for: `CLOUDFLARE`
- `google_config` (String) The integration's google config. Provide for `GOOGLE_SERVICE_ACCOUNT` OIDC
- `google_project` (String) The integration's google project. Provide for `GOOGLE_SERVICE_ACCOUNT` OIDC
- `group_id` (Number) The group's ID. Provide along with scopes: `GROUP`, `GROUP_IN_PROJECT`
- `partner_token` (String, Sensitive) The integration's partner token. Provide for: `SHOPIFY`
- `password` (String, Sensitive) The integration's password. Provide for: `AZURE_CLOUD`, `UPCLOUD`, `DOCKER_HUB`
- `project_name` (String) The project's name. Provide along with scopes: `PROJECT`, `ADMIN_IN_PROJECT`, `GROUP_IN_PROJECT`, `PRIVATE_IN_PROJECT`
- `role_assumption` (Block List) The integration's AWS role to assume. Provide for: `AMAZON` (see [below for nested schema](#nestedblock--role_assumption))
- `secret_key` (String, Sensitive) The integration's secret key. Provide for: `DO_SPACES`, `AMAZON`
- `shop` (String) The integration's shop. Provide for: `SHOPIFY`
- `tenant_id` (String) The integration's tenant's ID. Provide for: `AZURE_CLOUD`
- `token` (String, Sensitive) The integration's token. Provide for: `DIGITAL_OCEAN`, `SHOPIFY`, `RACKSPACE`, `CLOUDFLARE`, `NEW_RELIC`, `SENTRY`, `ROLLBAR`, `DATADOG`, `HONEYBADGER`, `VULTR`, `SENTRY_ENTERPRISE`, `LOGGLY`, `FIREBASE`, `GHOST_INSPECTOR`, `PUSHOVER`, `GIT_LAB`, `GIT_HUB`
- `username` (String) The integration's username. Provide for: `UPCLOUD`, `RACKSPACE`, `DOCKER_HUB`

### Read-Only

- `html_url` (String) The integration's URL
- `id` (String) The Terraform resource identifier for this item
- `integration_id` (String) The integration's ID

<a id="nestedblock--role_assumption"></a>
### Nested Schema for `role_assumption`

Required:

- `arn` (String) The integration's AWS role ARN to assume

Optional:

- `duration` (Number) The integration's AWS session duration in seconds
- `external_id` (String) The integration's AWS external ID to send when assuming AWS role

## Import

Import is supported using the following syntax:

```shell
# import using domain(mydomain), integration_id(abc123)
terraform import buddy_integration.aws mydomain:abc123
```
